<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Sam Latif — Senior Fullstack Consultant with 15+ years delivering high-performance web applications for blue-chip clients."
    />
    <meta name="theme-color" content="#080808" />
    <title>Sam Latif — Senior Fullstack Consultant</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:ital@0;1&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="SamLatif.uk" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="stylesheet" href="/shared/site.css" />
    <link rel="stylesheet" href="/shared/ui-shared.css" />
  </head>
  <body>
    <header>
      <div class="container">
        <div class="eyebrow">
          Senior Fullstack Consultant &nbsp;·&nbsp; West London, UK
        </div>
        <h1>Sam <span class="acc">Latif</span></h1>
        <div class="role">Frontend / UX Specialist &nbsp;·&nbsp; 15+ Years</div>
        <div class="hcontact">
          <a href="tel:07851885776"><em>◆</em>07851 885 776</a>
          <a href="mailto:hello@samlatif.uk"><em>◆</em>hello@samlatif.uk</a>
          <a class="site-link" data-site="vanilla" href="https://samlatif.uk"
            ><em>◆</em>Vanilla Site</a
          >
          <a
            class="site-link"
            data-site="react"
            href="https://react.samlatif.uk"
            ><em>◆</em>React Site</a
          >
          <!-- <a href="https://uk.linkedin.com/in/samlatifuk" target="_blank"><em>◆</em>uk.linkedin.com/in/samlatifuk</a> -->
        </div>
        <ul class="summary">
          <p>
            A senior fullstack consultant with 15+ years delivering
            high-performance, scalable web applications for blue-chip clients —
            from Goldman Sachs and Bank of America to Visa and Deutsche Bank.
          </p>

          <p>
            An early adopter of React, with deep expertise spanning every major
            version from 0.13 to 18, and a track record of bringing it into
            organisations before it became mainstream.
          </p>

          <p>
            Strong eye for design and UX, with a habit of dogfooding work
            personally — features are QA'd before they ship, eliminating the
            "chuck it over the fence" bottleneck and getting polished,
            production-ready work into users' hands faster.
          </p>

          <p>
            This CV is intentionally published as both Vanilla JS and React
            versions to demonstrate the same product thinking and UX decisions
            across different delivery styles — useful when teams need either
            framework flexibility or zero-dependency performance.
          </p>
        </ul>
      </div>
    </header>

    <nav>
      <div class="container">
        <div class="nav-inner">
          <a href="#overview" class="">Overview</a>
          <a href="#techskills" class="act">Tech Skills</a>
          <a href="#skills" class="">Stack Tags</a>
          <a href="#experience" class="">Experience</a>
          <a href="#education" class="">Education</a>
        </div>
      </div>
    </nav>

    <section id="overview">
      <div class="container">
        <div class="stats">
          <div class="stat">
            <div class="sn">15+</div>
            <div class="sl">Years Experience</div>
          </div>
          <div class="stat">
            <div class="sn">25+</div>
            <div class="sl">Client Engagements</div>
          </div>
          <div class="stat">
            <div class="sn">5</div>
            <div class="sl">Finance Institutions</div>
          </div>
          <div class="stat">
            <div class="sn">MSc</div>
            <div class="sl">1st Class BSc</div>
          </div>
        </div>
      </div>
    </section>

    <section id="techskills">
      <div class="container">
        <div class="shead">
          <span class="snum">01</span>
          <h2>Technical Skills</h2>
          <div class="sline"></div>
        </div>
        <table class="tech-table" id="techTable">
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section id="skills">
      <div class="container">
        <div class="shead">
          <span class="snum">02</span>
          <h2>Stack at a Glance</h2>
          <div class="sline"></div>
        </div>
        <p
          style="font-size: 12px; color: var(--text-muted); margin-bottom: 18px"
        >
          Filter by category — or click any tech tag in the timeline to
          highlight matching roles.
        </p>
        <div class="fbtns">
          <button class="fbtn on" data-cat="all">All</button>
          <button class="fbtn" data-cat="core">Core</button>
          <button class="fbtn" data-cat="state">State</button>
          <button class="fbtn" data-cat="testing">Testing</button>
          <button class="fbtn" data-cat="ui">UI &amp; Design</button>
          <button class="fbtn" data-cat="tooling">Tooling</button>
          <button class="fbtn" data-cat="cms">CMS / Other</button>
        </div>
        <div class="swrap" id="swrap"></div>
      </div>
    </section>

    <section id="experience">
      <div class="container">
        <div class="shead">
          <span class="snum">03</span>
          <h2>Experience</h2>
          <div class="sline"></div>
        </div>
        <div class="fbar" id="fbar">
          <span>Filtering by:</span>
          <div class="fchips" id="fchips"></div>
          <button class="fclear" onclick="clearF()">Clear ×</button>
        </div>
        <div class="tl" id="tl"></div>
      </div>
    </section>

    <section id="education">
      <div class="container">
        <div class="shead">
          <span class="snum">04</span>
          <h2>Education</h2>
          <div class="sline"></div>
        </div>
        <div class="edugrid">
          <div class="educard">
            <div class="edudeg">MSc Computer Games &amp; Entertainment</div>
            <div class="eduuni">Goldsmiths, University of London</div>
            <div class="edumeta">2011 – 2012</div>
            <div class="edugrade">Merit · 67%</div>
            <div class="edunote">
              Final project deferred to maintain quality of concurrent client
              commitments.
            </div>
          </div>
          <div class="educard">
            <div class="edudeg">BSc Computer Games Technologies</div>
            <div class="eduuni">University of East London</div>
            <div class="edumeta">2007 – 2010</div>
            <div class="edugrade">1st Class Honours</div>
            <div class="edunote">
              Modules: Games Programming, 3D Graphics, Virtual Environments,
              Network Gaming, Advanced Animation, Project Management.
            </div>
          </div>
          <div class="educard">
            <div class="edudeg">
              BSc Cognitive Science
              <span
                style="font-size: 12px; font-weight: 400; font-style: italic"
                >(1st year attended)</span
              >
            </div>
            <div class="eduuni">University of Leeds</div>
            <div class="edumeta">2005 – 2006</div>
            <div class="edugrade">Year 1 Completed</div>
            <div class="edunote">
              Foundations in HCI, UX design, human behaviour and logic —
              directly relevant to frontend and UX work. Transferred to pursue a
              CS-focused degree.
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="container">
        <div class="fname">Sam Latif</div>
        <div class="fline"></div>
        <div class="finfo">
          <a href="mailto:hello@samlatif.uk">hello@samlatif.uk</a> &nbsp;·&nbsp;
          <a href="tel:07851885776">07851 885 776</a> &nbsp;·&nbsp;
          <a class="site-link" data-site="vanilla" href="https://samlatif.uk"
            >Vanilla Site</a
          >
          &nbsp;·&nbsp;
          <a
            class="site-link"
            data-site="react"
            href="https://react.samlatif.uk"
            >React Site</a
          >
        </div>
      </div>
    </footer>

    <script src="/shared/filter-utils.js"></script>
    <script>
      const TECH_ROWS = [];
      const SKILLS = [];
      const DATE_BASED_STACK_DEFAULTS = [];
      const GLOBAL_STACK_DEFAULTS = [];
      const JOBS = [];

      async function loadSharedCvData() {
        try {
          const candidates = ["./shared/cv-data.json", "./cv-data.json"];
          let sharedData = null;

          for (const candidate of candidates) {
            const response = await fetch(candidate, { cache: "no-cache" });
            if (response.ok) {
              sharedData = await response.json();
              break;
            }
          }

          if (!sharedData) {
            return false;
          }

          const syncArray = (target, source) => {
            if (!Array.isArray(target) || !Array.isArray(source)) {
              return;
            }
            target.splice(0, target.length, ...source);
          };

          syncArray(TECH_ROWS, sharedData.TECH_ROWS);
          syncArray(SKILLS, sharedData.SKILLS);
          syncArray(
            DATE_BASED_STACK_DEFAULTS,
            sharedData.DATE_BASED_STACK_DEFAULTS,
          );
          syncArray(GLOBAL_STACK_DEFAULTS, sharedData.GLOBAL_STACK_DEFAULTS);
          syncArray(JOBS, sharedData.JOBS);
          return true;
        } catch {
          console.warn("Unable to load shared CV data.");
          return false;
        }
      }

      function renderDataUnavailableNotice() {
        const techTable = document.getElementById("techTable");
        const skillsWrap = document.getElementById("swrap");
        const timeline = document.getElementById("tl");

        if (techTable) {
          techTable.innerHTML =
            '<tr><td colspan="2">CV data is temporarily unavailable.</td></tr>';
        }

        if (skillsWrap) {
          skillsWrap.innerHTML =
            '<span class="stag">Data unavailable — please refresh later.</span>';
        }

        if (timeline) {
          timeline.innerHTML =
            '<div class="job vis"><div class="jdesc">CV data is temporarily unavailable. Please refresh later.</div></div>';
        }
      }

      function escapeForSingleQuotedInline(value) {
        return value.replace(/\\/g, "\\\\").replace(/'/g, "\\'");
      }

      function renderTechTable() {
        document.getElementById("techTable").innerHTML = TECH_ROWS.map(
          (r, index) => {
            const pct = Math.min(100, (parseInt(r.yrs) * 100) / 15);
            return `<tr class="tech-filterable" onclick="addFiltersFromTechRow(${index})"><td>${r.cat}</td><td><div>${r.items}<span class="yrs">${r.yrs} yrs</span></div><div class="bar-wrap"><div class="bar"><div class="bar-fill" style="width:0" data-w="${pct}%"></div></div></div></td></tr>`;
          },
        ).join("");
        const io = new IntersectionObserver(
          (es, o) => {
            es.forEach((e) => {
              if (e.isIntersecting) {
                e.target.querySelectorAll(".bar-fill").forEach((b) => {
                  b.style.width = b.dataset.w;
                });
                o.unobserve(e.target);
              }
            });
          },
          { threshold: 0.2 },
        );
        document
          .querySelectorAll("#techTable tr")
          .forEach((r) => io.observe(r));
      }

      let activeCat = "all",
        activeTechs = [];

      function getJobStartYear(date) {
        const years = date.match(/\d{4}/g) || [];
        return years.length ? Number(years[0]) : null;
      }

      function getJavaScriptVersionedSkill(startYear) {
        return startYear !== null && startYear < 2015
          ? "JavaScript (ES5)"
          : "JavaScript (ES6+)";
      }

      const isSkillMatch = (filterSkill, jobSkill) =>
        window.CVFilterUtils.isSkillMatch(filterSkill, jobSkill);

      function withJobStackDefaults(stack, date) {
        const startYear = getJobStartYear(date);
        const normalizedStack = stack.map((skill) =>
          skill === "JavaScript"
            ? getJavaScriptVersionedSkill(startYear)
            : skill,
        );
        const stackWithGlobalDefaults = GLOBAL_STACK_DEFAULTS.reduce(
          (acc, skill) => {
            if (!acc.includes(skill)) {
              return [skill, ...acc];
            }
            return acc;
          },
          normalizedStack,
        );

        if (startYear === null) {
          return stackWithGlobalDefaults;
        }
        return DATE_BASED_STACK_DEFAULTS.reduce((acc, rule) => {
          const aboveMin =
            rule.minStartYear === undefined || startYear >= rule.minStartYear;
          const belowMax =
            rule.maxStartYear === undefined || startYear <= rule.maxStartYear;
          if (aboveMin && belowMax && !acc.includes(rule.skill)) {
            return [rule.skill, ...acc];
          }
          return acc;
        }, stackWithGlobalDefaults);
      }

      const splitTechItems = (items) =>
        window.CVFilterUtils.splitTechItems(items);

      const normalizeTechToken = (token) =>
        window.CVFilterUtils.normalizeTechToken(token);

      function getFilterableTechSet() {
        const techSet = new Set([
          ...SKILLS.map((skill) => skill.n),
          ...DATE_BASED_STACK_DEFAULTS.map((rule) => rule.skill),
          ...GLOBAL_STACK_DEFAULTS,
        ]);

        JOBS.forEach((job) => {
          withJobStackDefaults(job.stack, job.date).forEach((tech) =>
            techSet.add(tech),
          );
        });

        return techSet;
      }

      function addTechFilters(techs) {
        activeTechs = Array.from(new Set([...activeTechs, ...techs]));
        renderFilterBar();
        renderSkills();
        renderJobs();

        if (activeTechs.length) {
          scrollToBestMatchingJob();
        }
      }

      function addFiltersFromTechRow(index) {
        const row = TECH_ROWS[index];
        if (!row) {
          return;
        }

        const filterableTechSet = getFilterableTechSet();
        const parsedTechs = splitTechItems(row.items)
          .flatMap((token) => normalizeTechToken(token))
          .filter((tech) => filterableTechSet.has(tech));

        if (parsedTechs.length) {
          addTechFilters(parsedTechs);
        }
      }

      function renderSkills() {
        document.getElementById("swrap").innerHTML = SKILLS.map((s) => {
          const show = activeCat === "all" || s.c === activeCat;
          const lit = activeTechs.includes(s.n);
          return `<button class="stag${!show ? " dim" : ""}${lit ? " lit" : ""}" type="button" onclick="filterTech('${s.n.replace(/'/g, "\\'")}')">${s.n}</button>`;
        }).join("");
      }

      document.querySelectorAll(".fbtn").forEach((b) => {
        b.addEventListener("click", () => {
          document
            .querySelectorAll(".fbtn")
            .forEach((x) => x.classList.remove("on"));
          b.classList.add("on");
          activeCat = b.dataset.cat;
          renderSkills();
        });
      });

      function renderJobs() {
        document.getElementById("tl").innerHTML = JOBS.map((j, i) => {
          const stackWithDefaults = withJobStackDefaults(j.stack, j.date);
          const matched = activeTechs.length
            ? activeTechs.some((a) =>
                stackWithDefaults.some((t) => isSkillMatch(a, t)),
              )
            : false;
          const filtered = activeTechs.length && !matched;
          return `<div class="job${matched ? " match" : ""}${filtered ? " filtered" : ""}" style="transition-delay:${i * 0.03}s">
      <div class="jhead"><div class="jco">${j.co}</div><div class="jdate">${j.date}</div></div>
      <div class="jtitle">${j.title}</div>
      <div class="jdesc">${j.desc}</div>
      ${j.bullets.length ? `<ul class="jbuls">${j.bullets.map((b) => `<li>${b}</li>`).join("")}</ul>` : ""}
      ${stackWithDefaults.length ? `<div class="jstack">${stackWithDefaults.map((t) => `<button class="jtag${activeTechs.some((a) => isSkillMatch(a, t)) ? " lit" : ""}" onclick="filterTech('${escapeForSingleQuotedInline(t)}')">${t}</button>`).join("")}</div>` : ""}
    </div>`;
        }).join("");
        const io = new IntersectionObserver(
          (es, o) => {
            es.forEach((e) => {
              if (e.isIntersecting) {
                e.target.classList.add("vis");
                o.unobserve(e.target);
              }
            });
          },
          { threshold: 0.05 },
        );
        document.querySelectorAll(".job").forEach((el) => io.observe(el));
      }

      function renderFilterBar() {
        document
          .getElementById("fbar")
          .classList.toggle("show", activeTechs.length > 0);
        document.getElementById("fchips").innerHTML = activeTechs
          .map(
            (t) =>
              `<button class="fchip" type="button" onclick="filterTech('${t.replace(/'/g, "\\'")}')">${t} ×</button>`,
          )
          .join("");
      }

      function getFilterBarHeight() {
        const filterBar = document.getElementById("fbar");
        if (!filterBar || !filterBar.classList.contains("show")) {
          return 0;
        }

        const styles = window.getComputedStyle(filterBar);
        const marginBottom = parseFloat(styles.marginBottom) || 0;
        return filterBar.offsetHeight + marginBottom;
      }

      function scrollToBestMatchingJob() {
        const allJobElements = Array.from(
          document.querySelectorAll("#experience .job"),
        );
        const latestSelectedTech = activeTechs[activeTechs.length - 1];

        let bestMatchIndex = -1;
        let bestMatchCount = -1;
        let bestHasLatest = false;

        JOBS.forEach((job, index) => {
          const stackWithDefaults = withJobStackDefaults(job.stack, job.date);
          const matchCount = activeTechs.filter((activeTech) =>
            stackWithDefaults.some((stackTech) =>
              isSkillMatch(activeTech, stackTech),
            ),
          ).length;

          if (matchCount === 0) {
            return;
          }

          const hasLatest = latestSelectedTech
            ? stackWithDefaults.some((stackTech) =>
                isSkillMatch(latestSelectedTech, stackTech),
              )
            : false;

          const shouldReplaceBest =
            matchCount > bestMatchCount ||
            (matchCount === bestMatchCount && hasLatest && !bestHasLatest);

          if (shouldReplaceBest) {
            bestMatchIndex = index;
            bestMatchCount = matchCount;
            bestHasLatest = hasLatest;
          }
        });

        const firstMatch =
          bestMatchIndex >= 0 ? allJobElements[bestMatchIndex] : null;

        if (firstMatch) {
          const target = firstMatch.querySelector(".jhead") || firstMatch;
          const targetY =
            target.getBoundingClientRect().top +
            window.scrollY -
            (70 + getFilterBarHeight());
          window.scrollTo({ top: targetY, behavior: "smooth" });
        } else {
          const experience = document.getElementById("experience");
          if (experience) {
            const targetY =
              experience.getBoundingClientRect().top +
              window.scrollY -
              getFilterBarHeight();
            window.scrollTo({ top: targetY, behavior: "smooth" });
          }
        }
      }

      function filterTech(t) {
        activeTechs = activeTechs.includes(t)
          ? activeTechs.filter((x) => x !== t)
          : [...activeTechs, t];
        renderFilterBar();
        renderSkills();
        renderJobs();
        if (activeTechs.length) {
          scrollToBestMatchingJob();
        } else {
          document
            .getElementById("experience")
            .scrollIntoView({ behavior: "smooth", block: "start" });
        }
      }

      function clearF() {
        activeTechs = [];
        renderFilterBar();
        renderSkills();
        renderJobs();
        document
          .getElementById("experience")
          .scrollIntoView({ behavior: "smooth", block: "start" });
      }

      const SIDS = [
        "overview",
        "techskills",
        "skills",
        "experience",
        "education",
      ];
      window.addEventListener("scroll", () => {
        let cur = "";
        SIDS.forEach((id) => {
          const el = document.getElementById(id);
          if (el && window.scrollY >= el.offsetTop - 80) cur = id;
        });
        document
          .querySelectorAll("nav a")
          .forEach((a) =>
            a.classList.toggle("act", a.getAttribute("href") === "#" + cur),
          );
      });

      function setActiveSiteLink() {
        const activeSite = window.location.hostname.startsWith("react.")
          ? "react"
          : "vanilla";

        document.querySelectorAll(".site-link").forEach((link) => {
          link.classList.toggle(
            "active",
            link.getAttribute("data-site") === activeSite,
          );
        });
      }

      loadSharedCvData().then((loaded) => {
        setActiveSiteLink();

        if (!loaded) {
          renderDataUnavailableNotice();
          return;
        }

        renderTechTable();
        renderSkills();
        renderFilterBar();
        renderJobs();
      });
    </script>
  </body>
</html>
